{% extends 'main.html' %}
{% load static %}

{% block content %}
	<main>
		<h2>Edit your profile</h2>
		<!-- Allows user to edit their profile through userForm and passwordForm -->
		<!-- Addition? add reset form button using js !confirm, have pop up message -->
		<div>
			<form class="form form-left user" action="" method="POST">
				{% csrf_token %}
				<label for="username">{{userForm.username.label}}:</label>
				{{userForm.username}}
				<span class="help-text">Username may contain alphanumeric characters or @/./+/-/_.</span>
				{{userForm.username.errors}}

				<input type="hidden" name="option" value="{{ option }}">
				<div id="container" class="password-profile">
					<label for="old_password">{{passwordForm.old_password.label}}:</label>
					{{passwordForm.old_password}}
					<span class="help-text">Enter your old password</span>
					{{passwordForm.old_password.errors}}

					<label for="new_password1">{{ passwordForm.new_password1.label}}:</label>
					{{passwordForm.new_password1}}
					<span class="help-text">Password can't be only numeric and should have at least 8 alphanumeric characters with a special character or at least 10 characters with no numbers.</span>

					<label for="new_password2">{{ passwordForm.new_password2.label}}:</label>
					{{passwordForm.new_password2}}
					<span class="help-text">{{passwordForm.new_password2.help_text}}</span>
				</div>
				<button type="button" class="secondary-button" id="change-password">Change password</button>

				<button type="submit" class="primary-button">Save</button>
			</form>
			<a href="{% url 'profile' request.user %}">Go Back</a>
		</div>

		<div>
			<h2>Edit reviews</h2>
			<!-- Put review edit functionality here -->
			<!--1. display all reviews made by user -->
			<!-- 2. next to it add an edit button -->
			<!-- 3. redirect to another url/page where edit will occur -->
			<!--3.Do it all on one page, maybe hide it like password form  -->

			{% if reviews %}
				{% for review in reviews %}
					<p>{{review}}</p>
					<a href="#">Edit Review</a>
				{% endfor %}
			{% else %}
				<p>No reviews yet.</p>
			{% endif %}
		</div>

		<div>
			<h2>Edit courses</h2>
			{% if courses %}
				{% for course in courses %}
					<div>
						<p>{{ course }}</p>
						<a href="{% url 'remove-course' course %}">Remove</a>
					</div>
				{% endfor %}
			{% else %}
				<p>No courses added.</p>
			{% endif %}
		</div>
	</main>
	<script src="{% static 'scripts/profile.js' %}"></script>
{% endblock content %}